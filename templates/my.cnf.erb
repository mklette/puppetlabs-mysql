### MANAGED BY PUPPET ###

<% @options.sort.map do |k,v| -%>
<%   if v.is_a?(Hash) -%>
[<%=   k %>]
<%     v.sort.map do |ki, vi| -%>
<%       if v.select {|kii,vii| (['ssl-disable', 'disable-ssl', 'skip-ssl'].include?(kii) and [:true, true, ''].include?(vii)) or (kii == 'ssl' and [:false, false, 0].include?(vii))}.size > 0 and ki =~ /^ssl/ -%>
<%         next %>
<%       elsif [:true, true, '', 'on'].include?(vi) -%>
<%=        ki %>
<%       elsif [:false, false, 'off'].include?(vi) -%>
<%         next -%>
<%       elsif vi.is_a?(Array) -%>
<%         vi.each do |vii| -%>
<%=          ki %> = <%= vii %>
<%         end -%>
<%       elsif ![nil, '', :undef].include?(vi) -%>
<%=        ki %> = <%= vi %>
<%       end -%>
<%     end -%>
<%   end %>
<% end -%>

<% if @includedir and @includedir != '' %>
!includedir <%= @includedir %>
<% end %>
